<!DOCTYPE HTML>
<html>
	<head>
		<title>Sid Premkumar</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="../../assets/css/main.css" />
        <link rel="shortcut icon" href="../../images/icon.png" />
		<noscript><link rel="stylesheet" href="../../assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Header -->
			<header id="header">
				<a href="index.html" class="title">Sid Premkumar</a>
				<nav>
					<ul>
						<li><a href="../../index.html">Home</a></li>
                        <li><a href="../labs.html">Labs</a></li>
                        <li><a href="../attendance.html">Attendance</a></li>
                        <li><a href="lab8.html" class="active">Lab 8</a></li>
					</ul>
				</nav>
			</header>

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Main -->
					<section id="main" class="wrapper">
						<div class="inner">
							<h1 class="major">Lab 8</h1>
                            
                            <p>In this lab, you will study an essential part of your skill set as a programmer: the ability to trace the execution of a program by printing out data ”on the fly” and use these traces for debugging.
                                <br>Let's start by creating a new Eclipse class to work on this lab. You can follow what we did on <a href="lab1.html">Lab 1 </a>or <a href="lab2.html">Lab 2</a> to do this. <strong>Make sure to call it <em>lab8</em>.</strong> You should end up with this:</p>
                            <div style="margin:2em;">
                            <img src="lab8/img1.jpeg" alt="" style=" margin: 0 auto;  object-fit: contain; height: 10%; width: 60%; "/>
                            </div>
                            <p>To get started lets make a new class called "ResizingQueue". Your project should look like this now:</p>
                            <div style="margin:2em;">
                            <img src="lab8/img2.jpeg" alt="" style=" margin: 0 auto;  object-fit: contain; height: 10%; width: 60%; "/>
                            </div>
                            <p>Now the folowing code inside the <code>public class ResizingQueue {</code> in the project we just created:</p>
                            <pre><code>private final int INITIAL_SIZE = 10; 
	   
private int [] A = new int[INITIAL_SIZE];            // array to hold queue: front is always at Q[0]
// and rear at A[next-1] 
int next = 0;                        // location of next available unused slot  

// interface methods

public void enqueue(int key) {          // push the key onto the back of the queue
  // YOUR CODE HERE!
}

private void resize() {
 // YOUR CODE HERE!
}

public int dequeue() {            // remove the top integer and return it -- will cause error if empty! 
  //YOUR CODE HERE!   
}

public boolean isEmpty() {
  return (next == 0); 
}

public int size() {                 // how many integers in the queue
  return next; 
}

public String toString() {

  String s = "[";
  for(int i = 0; i < A.length; ++i) {
     if(i == next)
        s += " | " + A[i];
     else if(i == 0)
        s += A[i];
     else 
        s += ", " + A[i];
  }
  s += "]"; 
  return s;   
}</code></pre></pre>
                            <p>Now copy the following into your main function of lab8:</p>
                            <pre><code>ResizingQueue Q = new ResizingQueue();  

System.out.println("\nTesting toString on empty queue....");

System.out.println("\n[1] Should be:\n[ | 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\tnext = 0");
System.out.println(Q + "\tnext = 0");      

System.out.println("\nTesting size and isEmpty() on empty queue....");

System.out.println("\n[2] Should be:\n0\ttrue");
System.out.println(Q.size() + "\t" + Q.isEmpty()); 

// UNCOMMENT THIS CODE TO TEST YOUR FUNCTIONS ENQUEUE, DEQUEUE, and RESIZE
/*
System.out.println("\nTesting enqueue...");

Q.enqueue(3); 
Q.enqueue(5);
Q.enqueue(7);

System.out.println("\n[3] Should be:\n[3, 5, 7 | 0, 0, 0, 0, 0, 0, 0]\tnext = 3");
System.out.println(Q + "\tnext = " + Q.next); 

System.out.println("\nTesting size and isEmpty on non-empty queue....");

System.out.println("\n[4] Should be:\n3\tfalse");
System.out.println(Q.size() + "\t" + Q.isEmpty()); 

System.out.println("\nTesting dequeue...");

int n = Q.dequeue(); 

System.out.println("\n[5] Should be:\n[5, 7 | 7, 0, 0, 0, 0, 0, 0, 0]\tnext = 2\tQ.dequeue() => 3");
System.out.println(Q + "\tnext = " + Q.next + "\tQ.dequeue() => " + n);      

n = Q.dequeue(); 
n = Q.dequeue(); 

System.out.println("\n[6] Should be:\n[ | 7, 7, 7, 0, 0, 0, 0, 0, 0, 0]\tnext = 0\tQ.dequeue() => 7");
System.out.println(Q + "\tnext = " + Q.next + "\tQ.dequeue() => " + n);      

System.out.println("\nTesting resizing...");

for(int i = 10; i <= 25; ++i)
 Q.enqueue(i); 

System.out.println("\n[7] Should be:\n[10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25 | 0, 0, 0, 0]");
System.out.println(Q);      

for(int i = 0; i < 13; ++i)
 Q.dequeue(); 

System.out.println("\n[8] Should be:\n[23, 24, 25 | 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 0, 0, 0, 0]");
System.out.println(Q);
*/  
</code></pre>
                            <div style="margin:2em;">
                            <img src="lab8/img3.jpeg" alt="" style=" margin: 0 auto;  object-fit: contain; height: 10%; width: 60%; "/>
                            </div>
                            <hr>
                            <h2>Naive Queue Implementation</h2>
                            <p>To begin, you are going to create a queue ADT which solves the problem presented in lecture (that you run off the end of the array) by simply shifting all the data over, similar to what happens in a real line at Starbucks: when the person at the head of the line leaves with her coffee, the whole line moves up. We will store the queue in an array <code>A</code>, with the head of the queue at <code>A[0]</code>, and the rear at <code>A[next-1]</code>, thus a queue containing 3 and 5 with 3 at the head and 5 at the rear would look like this (assuming the length of the array is 10):</p>
                            <div style="margin:2em;">
                            <img src="lab8/img4.jpeg" alt="" style=" margin: 0 auto;  object-fit: contain; height: 10%; width: 60%; "/>
                            </div>
                            <p>When we enqueue a 7, we insert it at the end and move <code>next</code>, as usual:</p>
                            <div style="margin:2em;">
                            <img src="lab8/img5.jpeg" alt="" style=" margin: 0 auto;  object-fit: contain; height: 10%; width: 60%; "/>
                            </div>
                            <p>When we dequeue, we first save the 3, which is at the head in a temporary variable, and then move everything over one slot to the left and decrement <code>next</code>.</p>
                            <div style="margin:2em;">
                            <img src="lab8/img6.jpeg" alt="" style=" margin: 0 auto;  object-fit: contain; height: 10%; width: 60%; "/>
                            </div>
                            <p>Finally we return the 3 as the result of the method. Note that we do NOT need to remove the 7, e.g., by replacing it by 0, as the next time we enqueue it will be overwritten.</p>
                            <hr>
                            <h2>Step-Wise Refinement</h2>
                            <p>Now we get to the point of the whole lab: complete the implementation of the starter code so that the Unit Test verifies that all works as required. However, you MUST do it incrementally, in the following way:</p>
                            <div style="margin:2em;">
                                <ol>
                                <li>Bbserve that much of what you need is already in place, and especially, it passes the first test with flying colors. So far so good!</li>
                                <li>Comment-in the next performance test, and ONLY the next one. That is, from
                                    <div style="margin:2em;">
                                        <img src="lab8/img7.jpeg" alt="" style=" margin: 0 auto;  object-fit: contain; height: 10%; width: 60%; "/>
                                        <br>you should next go to:<br>
                                        <img src="lab8/img8.jpeg" alt="" style=" margin: 0 auto;  object-fit: contain; height: 10%; width: 60%; "/>
                                        <br>This should work perfectly too! Now comment-in test [3] and test it. It will fail. Implement <code>enqueue(...)</code> and get this test to work. Do ONLY as much as necessary to get this test to work, and resist the temptation to start filling in the rest.
                                        
                                    </div>
                                    
                                    </li>
                                    <li>Now proceed through the rest of the unit test, writing your code incrementally, one method at a time. Note that array resizing is done last. This is explained in the next section.</li>
                                </ol>
                            </div>
                            <hr>
                            <h2>Array Resizing</h2>
                            <p>A very common problem with array-based data structures is running out of room: the array fills up and there is no more room for new data! Fortunately, the solution is very simple: just allocate a new, bigger array, and transfer all the data over. The only trick is that you have to substitute the new array for the old one, but this is quite simple. The method stub <code>resize()</code> in the starter code can be described in pseudo-code as follows:</p>
                            <pre><code>//This method resizes an array A to twice as big: 
private void resize() {
    – create a new array B twice as big as A
    – transfer everything from A over to the same slots in B (i.e., A[0] goes to B[0], A[1] to B[1], etc.)
    – A = B; // assign the object named by B to the name A; since A and B are references, you can do this!
}</code></pre>
                            <p>The last line in the method is important: since <code>A</code> and <code>B</code> are references, you can simply rename the new array <code>B</code> with the name <code>A</code>, and now <code>A</code> is magically twice as big with the same data. In the template code, I have commented out “<code>A = B</code>”; so that it will compile, but this is the Java statement that does the renaming</p>
                            <hr>
                            <h2>Testing your work</h2>
                            <p>If all goes well you should end up with this:</p>
                            <div style="margin:2em;">
                            <img src="lab8/img9.jpeg" alt="" style=" margin: 0 auto;  object-fit: contain; height: 10%; width: 60%; "/>
                            </div>
                            <p><strong><em>Make sure to mark your attendance <a href="../attendance.html">here</a> before leaving!</em></strong></p>
                        </div>
					</section>

			</div>

		<!-- Footer -->
			<footer id="footer" class="wrapper alt">
				<div class="inner">
					<ul class="menu">
						<li>&copy; Sid Premkumar. All rights reserved.</li>
					</ul>
				</div>
			</footer>

		<!-- Scripts -->
			<script src="../../assets/js/jquery.min.js"></script>
			<script src="../../assets/js/jquery.scrollex.min.js"></script>
			<script src="../../assets/js/jquery.scrolly.min.js"></script>
			<script src="../../assets/js/browser.min.js"></script>
			<script src="../../assets/js/breakpoints.min.js"></script>
			<script src="../../assets/js/util.js"></script>
			<script src="../../assets/js/main.js"></script>

	</body>
</html>